import random
import os
#clase y jugador 
class Jugador:
    def __init__(self, nombres, identificacion, edad, usuario, password, rol="jugador"):
        self.nombres = nombres
        self.identificacion = identificacion
        self.edad = edad
        self.usuario = usuario
        self.password = password
        self.rol = rol

    def __str__(self):
        return f"Usuario: {self.usuario} | Nombre: {self.nombres} | Rol: {self.rol}"

    def a_cadena(self):
        """Convierte el objeto Jugador a una cadena para guardar en .txt"""
        return f"{self.nombres},{self.identificacion},{self.edad},{self.usuario},{self.password},{self.rol}\n"
    #co el @classmethod
    def desde_cadena(cls, cadena):
        """Crea un objeto Jugador desde una cadena de .txt"""
        partes = cadena.strip().split(',')
        if len(partes) == 6:
            nombres, identificacion, edad, usuario, password, rol = partes
            jugador = cls(nombres, identificacion, int(edad), usuario, password, rol)
            return jugador
        elif len(partes) == 8: # Para compatibilidad con archivos viejos
            nombres, identificacion, edad, usuario, password, rol, _, _ = partes
            jugador = cls(nombres, identificacion, int(edad), usuario, password, rol)
            return jugador
        return None
#nodos de arbol de habilidades
class NodoHabilidad:
    def __init__(self, nombre_habilidad, tipo_habilidad="generico", valor=0):
        self.nombre = nombre_habilidad
        self.tipo = tipo_habilidad
        self.valor = valor
        self.izquierda = None
        self.derecha = None

     def __str__(self):
        return f"Habilidad: {self.nombre} ({self.tipo}, Valor: {self.valor})"
        
